@import 'variables.scss';
@import 'overrides.scss';

@import '~react-vis/dist/style.css';
@import '~@dpordomingo/startbootstrap-sb-admin-2/scss/sb-admin-2.scss';

@import 'typography.scss';

// Topbar

.app-logo {
    height: 24px;
}

.topbar.navbar {
    height: 48px;
}

#mainBreadcrumbs {
    display: block;

    li {
        display: inline-block;
    }
}

// Pipeline

.pipeline-thumbnails {

    .card {
        border-radius: .35rem .35rem 0 0;
    }

    .pipeline-stage {
        position: relative;
        border-top: 1px dashed $at-border-color;
        padding-top: 10px;

        &.active {
            z-index: 20;
            border-top-style: solid;

            a .pipeline-thumbnail.active .text-secondary {
                color: $white !important;
            }

            &.wip,
            &.wip .event-before,
            &.wip .event-after {
                border-color: $color-wip;
                border-width: 2px;

                a .pipeline-thumbnail.active {
                    background-color: $color-wip;
                    border-color: $color-wip;
                }
            }
            &.review,
            &.review .event-before,
            &.review .event-after {
                border-color: $color-review;
                border-width: 2px;

                a .pipeline-thumbnail.active {
                    background-color: $color-review;
                    border-color: $color-review;
                }
            }
            &.merge,
            &.merge .event-before,
            &.merge .event-after {
                border-color: $color-merge;
                border-width: 2px;

                a .pipeline-thumbnail.active {
                    background-color: $color-merge;
                    border-color: $color-merge;
                }
            }
            &.release,
            &.release .event-before,
            &.release .event-after {
                border-color: $color-release;
                border-width: 2px;

                a .pipeline-thumbnail.active {
                    background-color: $color-release;
                    border-color: $color-release;
                }
            }
        }

        $event-size: 14px;
        .event-before,
        .event-after {
            display: inline-block;
            width: $event-size;
            height: $event-size;
            border: 1px solid $at-border-color;
            background: $at-main-bg;
            border-radius: $event-size;
            position: absolute;
            top: -$event-size/2;
            z-index: 10;
        }

        .event-before {
            left: -$event-size/2;
        }

        .event-after {
            right: -$event-size/2;
        }

        .pipeline-thumbnail {
            &:hover {
                background: transparent;
            }

            &.active {
                color: white;

                &:hover {
                    cursor: default;
                }

                .big-number {
                    color: white !important;
                }

                .badge {
                    background: rgba(white, .3);
                    color: white;
                }
            }
        }
    }
}

.pr-tab {
    border-bottom-color: $color-wip !important;
}

a {
    text-decoration: none !important;
    color: $body-color !important;
}

.filters  {
    .filter {
        min-width: 250px;
    }

    .datepicker {
        height: 38px;
    }
}

.cursor-pointer {
    cursor: pointer;
}

.navbar-nav .dropdown .dropdown-menu {
    $menuWidth: 19rem;
    $menuImageWidth: 4rem;
    $menuHorizontalPadding: map-get($spacers, 3);
    $menuUserLeftMargin: map-get($spacers, 2);

    width: $menuWidth !important;
    padding: 0;

    .img-profile {
        height: $menuImageWidth;
    }

    .userData {
        width: $menuWidth - $menuImageWidth - 2 * $menuHorizontalPadding - $menuUserLeftMargin;
        margin-left: $menuUserLeftMargin;
    }

    .menuItem {
        padding-left: $menuHorizontalPadding;
        padding-right: $menuHorizontalPadding;
    }

    .invitationCreator {
        $copyButtonWidth: 5.5rem;

        .desc {
            $invitationDescMargin: map-get($spacers, 3);
            width: $menuWidth - $copyButtonWidth - 2 * $menuHorizontalPadding - $invitationDescMargin;
            margin-right: $invitationDescMargin;
        }

        button {
            width: $copyButtonWidth;
        }
    }
}

#dataTable {
    border-spacing: 0 3px !important;
    border: 0 !important;

    thead {
        background-color: $secondary !important;

        th {
            @extend .text-xs;
            @extend .text-uppercase;
            @extend .font-weight-bold;
            transform: translateY(2px);
            border: 0;
        }
    }

    td {
        border-width: 1px 0 !important;
        background-color: white;

        &:last-child {
            border-right-width: 1px !important;
        }

        &:first-child {
            border-left-width: 1px !important;
        }
    }

    .pr-size,
    .pr-age {
        white-space: nowrap;
    }

    td.pr-merged {
        vertical-align: middle;
        padding-left: 1rem;
        padding-right: .25rem;
    }

    th.pr-merged {
        padding-right: 0 !important;
    }

    $mainAvatarSize: 25px;
    .pr-user-avatar {
        display: inline-block;
        border-radius: $mainAvatarSize;
        width: $mainAvatarSize;
        height: $mainAvatarSize;
        margin-right: -.4 * $mainAvatarSize;
        border: 2px solid white;
        vertical-align: text-top;
        cursor: default;

        &.pr-user-unknown {
            line-height: $mainAvatarSize;
            background: #AAA;
            text-align: center;
            color: white;
        }
    }

    $smallAvatarSize: 25px;
    .pr-main .pr-user-avatar {
        width: $smallAvatarSize;
        height: $smallAvatarSize;
        line-height: $smallAvatarSize;
        margin-right: -.4 * $smallAvatarSize;

        &+.pr-created-by {
            margin-left: .4 * $smallAvatarSize;
        }
    }
}
